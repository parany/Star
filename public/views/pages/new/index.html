<div class="col-md-3" id="read-nav">
    <form class="form-horizontal">
        <div class="form-group">
            <div>
                <input type="date"
                       placeholder="Date"
                       class="form-control"
                       ng-model="Date">
            </div>
        </div>
        <div class="form-group">
            <div>
                <input type="text"
                       placeholder="Search"
                       class="form-control"
                       ng-change="search()"
                       ng-model="textToSearch">
            </div>
        </div>
        <div class="form-group">
            <table ng-table="tableNews" class="table ng-table-rowselected">
                <thead>
                </thead>
                <tbody>
                    <tr ng-repeat="model in $data"
                        ng-click="changeNewSelected(model)"
                        ng-class="{'active': model.$selected}">
                        <td>
                            <span style="color: gray;">{{ model.Title }}</span>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div>
            <a class="btn btn-success" ng-href="#/new/add">Add</a>
            &nbsp;
            <a class="btn btn-success" ng-href="#/new/edit/{{ New._id }}" ng-disa ng-disabled="New._id == undefined">Edit</a>
            &nbsp;
            <a class="btn btn-default" ng-click="promptDelete(New)">Delete</a>
        </div>
    </form>
    
    <div id="activity">
        <ul class="nav nav-tabs">
            <li class="active">
                <a data-toggle="tab" data-target="#tab-general" href="">General</a>
            </li>
            <li>
                <a data-toggle="tab" data-target="#tab-operations" href="">Operations</a>
            </li>
            <li>
                <a data-target="#tab-activities" data-toggle="tab" href="">Activities</a>
            </li>
        </ul>
        <div class="tab-content">
            <div class="tab-pane active" id="tab-general">
                <table class="table ng-table">
                    <tbody>
                        <tr>
                            <td>
                                <span class="activity">Total number of items: <span class="badge">{{ activity.nbOfItems }}</span></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="activity">First added: <span class="badge">{{ activity.firstAdded }}</span></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="activity">Last added: <span class="badge">{{ activity.lastAdded }}</span></span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="tab-pane" id="tab-operations">
                <table ng-table="tableOperations" class="table">
                    <thead>
                    </thead>
                    <tbody>
                        <tr ng-repeat="model in $data">
                            <td>
                                <span class="activity">
                                    {{ model.operation }} <span class="badge">{{ model.title }}</span>
                                    on {{ model.date | date: "dd MMM yyyy" }}
                                </span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="tab-pane" id="tab-activities">
                <table class="table ng-table">
                    <tbody>
                        <tr>
                            <td>
                                <span class="activity">Added this year: <span class="badge">{{ activity.nbOfYearItems }}</span></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="activity">Added this month: <span class="badge">{{ activity.nbOfMonthItems }}</span></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="activity">Added this week: <span class="badge">{{ activity.nbOfWeekItems }}</span></span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

</div>

<div class="col-md-6">
    <h3 style="text-align: center;">
        <span ng-if="!textToSearch || textToSearch.length < 1"
              class="glyphicon glyphicon-chevron-left"
              ng-click="prevNew()"
              style="opacity: 1;">
        </span>
        {{ Title }}
        <span ng-if="!textToSearch || textToSearch.length < 1"
              class="glyphicon glyphicon-chevron-right"
              ng-click="nextNew()"
              style="opacity: 1;">
        </span>
    </h3>
    <div ng-bind-html="New.Content"></div>
</div>

<div class="col-md-3">
    <h4>Citations</h4>
    <table ng-table="tableCitations" class="table ng-table-rowselected">
        <thead>
        </thead>
        <tbody>
            <tr ng-repeat="citation in $data">
                <td>
                    <blockquote>
                        <p>{{ citation }}</p>
                        <footer>Source <cite title="Source Title">{{ New.Source.Description }}</cite></footer>
                    </blockquote>
                </td>
            </tr>
        </tbody>
    </table>
</div>